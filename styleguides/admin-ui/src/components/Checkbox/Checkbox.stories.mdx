import { Meta, Story, Canvas } from '@storybook/addon-docs/blocks'

<Meta title="design-system/components/Checkbox" />

# Admin UI Checkbox

An accessible Checkbox input component.

## Usage

```jsx
import { Checkbox } from '@vtex/admin-ui'

function UseCase() {
  const [checked, setChecked] = React.useState(false)

  return (
    <Checkbox
      ariaLabel="label"
      checked={checked}
      onChange={() => setChecked(!checked)}
    />
  )
}
```

## Types

| prop     | type                                   | description                         | required | default   |
| -------- | -------------------------------------- | ----------------------------------- | -------- | --------- |
| size     | 'regular', 'small'                     | Checkbox size                       | ðŸš«       | 'regular' |
| sx       | SxStyleProp                            | ThemeUI style prop                  | ðŸš«       | {}        |
| checked  | bool                                   | Whether Checkbox is checked or not  | ðŸš«       | false     |
| required | bool                                   | Whether Checkbox is required or not | ðŸš«       | false     |
| disabled | bool                                   | Whether Checkbox is disabled or not | ðŸš«       | false     |
| value    | string, number                         | Checkbox value                      | ðŸš«       | -         |
| name     | string                                 | Checkbox name                       | ðŸš«       | -         |
| onChange | func                                   | onChange event                      | ðŸš«       | -         |
| state    | CheckboxState                          | `reakit` Checkbox state             | ðŸš«       | -         |
| setState | SetStateAction<boolean, CheckboxState> | `reakit` Checkbox setState          | ðŸš«       | -         |

### aria-label

`aria-label` is an optional prop, but, as a `form` component, the Checkbox should have a label specified to be accessible, so we grant this using this property.

#### Example

```jsx
import { Checkbox } from '@vtex/admin-ui'

function UseCase() {
  const [checked, setChecked] = React.useState(false)

  return (
    <Checkbox
      checked={checked}
      aria-label="your label goes here!"
      checked={checked}
      onChange={() => setChecked(!checked)}
    />
  )
}
```

## State

### `checked` and `onChange`

We can implement our state logic, just using the properties `checked` and `onChange`.

#### Example

```jsx
import { Checkbox } from '@vtex/admin-ui'

function UseCase() {
  const [checked, setChecked] = React.useState(false)

  return <Checkbox checked={checked} onChange={() => setChecked(!checked)} />
}
```

### `useCheckbox` hook

We provide the `useCheckbox` hook that already handles the state logic for these use cases:

- Simple Checkbox
- Multiple Checkboxes
- Indeterminate state

```ts
interface CheckboxStateReturn {
  /**
   * Stores the state of the Checkbox.
   * If checkboxes that share this state have defined a `value` prop, it's
   * going to be an array.
   */
  state: boolean | 'indeterminate' | Array<number | string>
  /**
   * Sets `state`.
   */
  setState: React.Dispatch<React.SetStateAction<CheckboxState['state']>>
}
```

It can be very handy if you have a group of Checkboxes and want to handle the states of each one.

> ðŸ’¡ You can check [Reakit documentation](https://reakit.io/docs/checkbox/#usecheckboxstate) for detailed info

#### Usage Examples

- **Simple Checkbox**

```jsx
import { Checkbox, useCheckbox } from '@vtex/admin-ui'

function UseCase() {
  const checkboxProps = useCheckbox({ state: true })

  return <Checkbox {...checkboxProps} />
}
```

- **Multiple Checkboxes**

  Remember that all checkboxes need to have a value set!

```jsx
import { Checkbox, useCheckbox } from '@vtex/admin-ui'

function UseCase() {
  const checkboxProps = useCheckbox({ state: [] })

  return (
    <>
      <Checkbox {...checkboxProps} value="checkbox1" />
      <Checkbox {...checkboxProps} value="checkbox2" />
      <Checkbox {...checkboxProps} value="checkbox3" />
    </>
  )
}
```

In this case, if we have the `first` and the `second` checkbox checked the state will be: `[checkbox1, checkbox2]`

### Indeterminate state

Admin's `Checkbox` component, follows the [WAI-Aria Checkbox Pattern](https://www.w3.org/TR/wai-aria-practices/#checkbox), which means you'll have a working dual or tri-state toggle button regardless of the type of the underlying element.

- **dual-state**

  `check` and `not checked` (true, false)

- **tri-state**

  `check`, `not checked`, and `partially checked` (true, false, mixed)

> ðŸ’¡ You can check [Reakit Checkbox Inderterminate](https://reakit.io/docs/checkbox/#indeterminate-or-mixed-state) documentation, for detailed info.
