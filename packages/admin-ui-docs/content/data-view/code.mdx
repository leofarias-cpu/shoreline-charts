import { Section } from '@site/src/components/Section'

<Section hasExplanation>

## Usage

```jsx
import { DataView, DataViewHeader, useDataViewState } from '@vtex/admin-ui'

function Example() {
  const state = useDataViewState()

  return (
    <DataView state={state}>
      <DataViewHeader>
        <Flex>
          <Search />
          <DataViewActions>{actions}</DataViewActions>
        </Flex>

        {filters}
      </DataViewHeader>

      {content}
    </DataView>
  )
}
```

</Section>

<Section hasExplanation>


## Initial State

The `useDataViewState` handles the `DataView` behavior.

```jsx live
function Example() {
  const view = useDataViewState({
    loading: true,
    notFound: false,
    error: null,
    empty: null,
  })

  const content = useMemo(() => {
    switch (view.status) {
      case 'loading': {
        return <Spinner size={50} />
      }

      case 'ready': {
        return <p>Data View Content</p>
      }

      default: {
        return null
      }
    }
  }, [view.status])

  return <DataView state={view}>{content}</DataView>
}
```

</Section>

<Section hasExplanation>


## Types

### DataView props

All props of JSX div element.

| Name  | Type            | Description    | Required | Default |
| ----- | --------------- | -------------- | -------- | ------- |
| state | `DataViewState` | DataView state | âœ…       | -       |

### DataViewHeader props

All props of JSX div element.

### DataViewActions props

All props of JSX div element.

### useDataViewState params

The params configure the initial state. The default values represent the `ready` state.

| Name     | Type      | Description          | Required | Default |
| -------- | --------- | -------------------- | -------- | ------- |
| loading  | `boolean` | Whether it is loading   | ðŸš«       | `false` |
| error    | `Object`  | Whether there is an error     | ðŸš«       | `null`  |
| empty    | `Object`  | Whether it is empty     | ðŸš«       | `null`  |
| notFound | `Object`  | Whether it is not found | ðŸš«       | `null`  |

### useDataViewState return

| Name         | Type                                                                   | Description          |
| ------------ | ---------------------------------------------------------------------- | -------------------- |
| status       | `ready`, `loading`, `error`, `not-found`, or `empty`                   | Current view status  |
| statusObject | `{ loading: boolean, empty: Object, notFound: Object, error: Object }` | Detailed view status |
| setStatus    | `React.Dispatch<{type: status }>`                                      | Sets the view status |


</Section>