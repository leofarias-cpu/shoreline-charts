import { Section } from '@site/src/components/Section'
import { IntroSection } from '@site/src/components/IntroSection'

<IntroSection>

## What is this?

Modal containers allow merchants to view content that demands attention through an overlay window that opens on top of the current page.

</IntroSection>

<Section>

## Composability

The Modal is composed by many parts: Modal, ModalHeader, ModalTitle, ModalDismimiss, ModalContent, ModalFooter, and ModalButton.

### Modal

The main component, responsible for holding the state.

```jsx live
function Example() {
  const modal = useModalState()

  return (
    <>
      <Button onClick={modal.toggle}>Toggle modal</Button>
      <Modal state={modal}>
        <ModalHeader>
          <ModalTitle>Modal title</ModalTitle>
          <ModalDismiss />
        </ModalHeader>
        <ModalContent>The modal content</ModalContent>
        <ModalFooter>
          <ModalButton>Modal button</ModalButton>
        </ModalFooter>
      </Modal>
    </>
  )
}
```

### ModalHeader

The header gives the modal context, its usually composed by the `ModalTitle` and `ModalDismiss`.

```jsx live
function Example() {
  const modal = useModalState()

  return (
    <>
      <Button onClick={modal.toggle}>Toggle modal</Button>
      <Modal state={modal}>
        <ModalHeader>
          <ModalTitle>Modal title</ModalTitle>
          <ModalDismiss />
        </ModalHeader>
      </Modal>
    </>
  )
}
```

### ModalTitle

Modal heading component.

```jsx live
function Example() {
  const modal = useModalState()

  return (
    <>
      <Button onClick={modal.toggle}>Toggle modal</Button>
      <Modal state={modal}>
        <ModalHeader>
          <ModalTitle>Modal title</ModalTitle>
        </ModalHeader>
      </Modal>
    </>
  )
}
```

### ModalDismiss

Dismisses the modal.

```jsx live
function Example() {
  const modal = useModalState()

  return (
    <>
      <Button onClick={modal.toggle}>Toggle modal</Button>
      <Modal state={modal}>
        <ModalHeader>
          <ModalDismiss />
        </ModalHeader>
      </Modal>
    </>
  )
}
```

### ModalContent

The `ModalContent` is the main part of the modal.

```jsx live
function Example() {
  const modal = useModalState()

  return (
    <>
      <Button onClick={modal.toggle}>Toggle modal</Button>
      <Modal state={modal}>
        <ModalHeader>
          <ModalTitle>Modal title</ModalTitle>
          <ModalDismiss />
        </ModalHeader>
        <ModalContent>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam non
          tincidunt lacus. Vivamus sed ullamcorper ipsum, vitae pharetra sem.
          Quisque dapibus tellus ex, vehicula suscipit quam scelerisque egestas.
          Donec feugiat pulvinar fringilla. Morbi sed risus a augue interdum
          imperdiet. Maecenas fermentum felis quis sollicitudin cursus.
          Vestibulum massa felis, laoreet at turpis vel, ornare tristique mi.
          Fusce ultrices auctor neque dapibus consequat. Fusce eu sagittis dui,
          quis gravida augue. Aenean dignissim odio ac nibh volutpat porta.
          Integer at pretium justo.
        </ModalContent>
      </Modal>
    </>
  )
}
```

### ModalFooter

The footer usually contains actions.

```jsx live
function Example() {
  const modal = useModalState()

  return (
    <>
      <Button onClick={modal.toggle}>Toggle modal</Button>
      <Modal state={modal}>
        <ModalHeader>
          <ModalTitle>Modal title</ModalTitle>
          <ModalDismiss />
        </ModalHeader>
        <ModalContent>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam non
          tincidunt lacus. Vivamus sed ullamcorper ipsum, vitae pharetra sem.
          Quisque dapibus tellus ex, vehicula suscipit quam scelerisque egestas.
          Donec feugiat pulvinar fringilla. Morbi sed risus a augue interdum
          imperdiet. Maecenas fermentum felis quis sollicitudin cursus.
          Vestibulum massa felis, laoreet at turpis vel, ornare tristique mi.
          Fusce ultrices auctor neque dapibus consequat. Fusce eu sagittis dui,
          quis gravida augue. Aenean dignissim odio ac nibh volutpat porta.
          Integer at pretium justo.
        </ModalContent>
        <ModalFooter>
          <ModalButton variant="secondary">Cancel</ModalButton>
          <ModalButton>Confirm</ModalButton>
        </ModalFooter>
      </Modal>
    </>
  )
}
```


## Abstracting

The main reason the modal is composable is to enable abstractions. You can create specific modals using the small pieces admin-ui provides. In the example, you can see a confirmation modal that uses this approach:

```jsx noInline live
function Confirm(props) {
  const { label, title, children, onCancel, onConfirm } = props
  const modal = useModalState()

  return (
    <>
      <Button onClick={modal.toggle}>{label}</Button>
      <Modal size="small" state={modal}>
        <ModalHeader>
          <ModalTitle>{title}</ModalTitle>
        </ModalHeader>
        <ModalContent>{children}</ModalContent>
        <ModalFooter>
          <ModalButton variant="secondary" dismissModal onClick={onCancel}>
            Cancel
          </ModalButton>
          <ModalButton dismissModal onClick={onConfirm}>
            Confirm
          </ModalButton>
        </ModalFooter>
      </Modal>
    </>
  )
}

function Example() {
  return (
    <Confirm label="Create" title="Create new collection">
      Are you sure?
    </Confirm>
  )
}

render(<Example />)
```

## Styling

Every modal component can receive a className to customize styling.

```jsx live noInline
const customContent = csx({
  color: '$red40',
})

function Example() {
  const modal = useModalState()

  return (
    <>
      <Button onClick={modal.toggle}>Toggle modal</Button>
      <Modal state={modal}>
        <ModalHeader>
          <ModalTitle>Modal title</ModalTitle>
          <ModalDismiss />
        </ModalHeader>
        <ModalContent className={customContent}>Your content</ModalContent>
      </Modal>
    </>
  )
}

render(<Example />)
```

</Section>